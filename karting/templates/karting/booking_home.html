{% extends "base.html" %} {% block content %} {% load account %}

<div class="container mt-5 text-center push-down"></div>
<div class="container heading">
    <hr>
<h1>Welcome, {% user_display user %}!</h1>
    <hr>
</div>
<h2 class="pt-3">Upcoming Race Days</h2>

<p>Please select an appointment for more details, or update it.<br>
    If you would like to see your past race day bookings please click <a href="{% url 'booking-past' %}">here</a>.</p>

 {% if object_list %} {% for booking in object_list %}

<div>
    <div class="d-flex justify-content-center ">
        <a href="{% url 'booking-detail' booking.id %}" class="link-underline link-underline-opacity-0">
                            <div class="card shadow m-3 text-center custom-button-light-grey">
                                <div class="card-header dark-background">
                                    <p class="p-0 m-0 font-kalnia fs-4">{{ booking.date_of_booking|date:"l j F Y" }}</p>
                </div>
                <h5 class="mt-3">{{ booking.service_name }}</h5>
                <h5>{{ booking.start_time|date:"g:i a" }} </h5>
                {% if user.is_superuser %}
            <p>{{ booking.username }}
                {% if booking.message %}
                <i class="fa-regular fa-comment"></i>
                {% endif %}
            </p>
            {% endif %}
            </div>
            </a>
    </div>
</div>

{% endfor %}
<a href="{% url 'booking-create' %}"class="link-underline link-underline-opacity-0"></a>
    <div class="d-flex justify-content-center p-3"></div>
    <button class="btn custom-button-dark-grey pt-3"type="button">
        <h2>Book Another Race Day</h2>
      </button>
    </div>
  </a>
  {% else %}
  <div class="d-flex justify-content-center">
    <div class="card shadow p-3 m-3 text-center w-75">
    <p class="pt-3">No upcoming Race Days.</p>
                <a href="{% url 'booking-create' %}" class="link-underline link-underline-opacity-0">
                    <div class="d-flex justify-content-center p-3"></div>
                        <button class="btn custom-button-dark-grey pt-3" type="button"><h2>Book A Race Day</h2></button>
      </a>
    </div>
  </div>
  {% endif %} 


  {% if is_paginated %}
  <nav aria-label="Page navigation">
    <ul class="pagination justify-content-center">
      {% if page_obj.has_previous %}
      <li>
        <a href="?page={{ page_obj.previous_page_number }}" class="page-link"
          >&laquo; PREV
        </a>
      </li>
      {% endif %} {% if page_obj.has_next %}
      <li>
        <a href="?page={{ page_obj.next_page_number }}" class="page-link">
          NEXT &raquo;</a
        >
      </li>
      {% endif %}
    </ul>
  </nav>
  {% endif %}
</div>

{% endblock %}
